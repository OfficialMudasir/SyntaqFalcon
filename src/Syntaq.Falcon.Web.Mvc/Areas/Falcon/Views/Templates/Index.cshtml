@using Syntaq.Falcon.Authorization
@using Syntaq.Falcon.Web.Areas.Falcon.Models.Templates
@using Syntaq.Falcon.Web.Areas.Falcon.Startup
@model TemplatesViewModel
@{
    ViewBag.CurrentPageName = FalconPageNames.Tenant.Templates;
}
@section Styles
    {
    <link href="~/Common/tagsinput.css" rel="stylesheet" />
}
@section Scripts
	{
    <script abp-src="/view-resources/Areas/Falcon/Views/Templates/Index.js" asp-append-version="true"></script>

    <script src="~/assets/jquery-ui/jquery-ui.min.js"></script>
    <script src="~/assets/typeahead/typeahead.bundle.min.js"></script>
    <script src="~/assets/Bootstrap/bootstrap-tagsinput.min.js"></script>

    <script src="~/lib/ClipboardJS/clipboard.min.js"></script>

}

<style>
    .setLiveToast_Container{
         position: fixed;
        bottom: 5px;
        right: 25px;
        z-index: 4;
    }

    #notifyButton {
        font-size: 14px;
    }

    #notifyButton:hover,
    #notifyButton:focus {
        cursor: pointer;
        text-decoration: underline; 
    }
</style>

<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
    <abp-page-subheader title="@L("Templates")" description="@L("TemplatesHeaderInfo")">

        @if (IsGranted(AppPermissions.Pages_Templates_Create))
        {
            <button id="CreateNewTemplateButton" class="btn btn-primary nowrap">
              
                <span class="d-none d-md-inline-block">
                    @L("CreateNewTemplate")
                </span>
            </button>
        }
        @if (IsGranted(AppPermissions.Pages_Folders_Create))
        {
            <button id="CreateNewFolderButton" class="btn btn-primary nowrap">
       
                <span class="d-none d-md-inline-block">
                    @L("CreateNewFolder")
                </span>
            </button>
        }
        <button aria-label="Template Navigation" id="TemplateNavigationButton" class="btn btn-outline-brand m-btn m-btn--custom m-btn--outline-2x m-btn--bolder" style="position: absolute; opacity: 0;"></button>
    </abp-page-subheader>

    <div class="@(await GetContainerClass()) kt-grid__item kt-grid__item--fluid">
        <div class="card">
            <div class="card-body">
                <div id="TemplateFolderPortlet">
                    @*PartialView Loaded here*@
                </div>
            </div>
        </div>
    </div>
</div>
    <div class="toast setLiveToast_Container bg-white" id="setLiveToast">
        <div class="toast-header" style="justify-content: space-between;">
            <span hidden id="setLiveTemplateName"></span>
            <strong id="notifyButton" data-bs-dismiss="modal">@L("NotifyYourTeam")</strong>
            <button class="btn btn-close" id="closeNotificationButton" type="button" aria-label="Close">
            </button>
        </div>
        <div class="toast-body" style="font-size: 13px !important;">
            <span class="overflow-auto" id="SetAliveHeaderMessage"></span>
        </div>
    </div>